{
  "cmd": "export PATH=$PATH:$MESOS_SANDBOX/jre/bin && ./scheduler/bin/kafka-scheduler server ./scheduler/conf/scheduler.yml",
  "cpus": 1.0,
  "env": {
    "BROKER_COUNT": "2",
    "BROKER_CPUS": "1",
    "BROKER_DISK": "5000",
    "BROKER_MEM": "2048",
    "DISK_TYPE": "ROOT",
    "FRAMEWORK_NAME": "kafkatest",
    "JAVA_URI": "https://s3.amazonaws.com/downloads.mesosphere.io/kafka/assets/jre-8u72-linux-x64.tar.gz",
    "KAFKA_ADVERTISE_HOST_IP": "true",
    "KAFKA_OVERRIDE_AUTO_CREATE_TOPICS_ENABLE": "true",
    "KAFKA_OVERRIDE_AUTO_LEADER_REBALANCE_ENABLE": "true",
    "KAFKA_OVERRIDE_BACKGROUND_THREADS": "10",
    "KAFKA_OVERRIDE_COMPRESSION_TYPE": "producer",
    "KAFKA_OVERRIDE_CONNECTIONS_MAX_IDLE_MS": "600000",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_ENABLE": "true",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_MAX_RETRIES": "3",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_RETRY_BACKOFF_MS": "5000",
    "KAFKA_OVERRIDE_CONTROLLER_SOCKET_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_DEFAULT_REPLICATION_FACTOR": "1",
    "KAFKA_OVERRIDE_DELETE_TOPIC_ENABLE": "false",
    "KAFKA_OVERRIDE_FETCH_PURGATORY_PURGE_INTERVAL_REQUESTS": "1000",
    "KAFKA_OVERRIDE_GROUP_MAX_SESSION_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_GROUP_MIN_SESSION_TIMEOUT_MS": "6000",
    "KAFKA_OVERRIDE_INTER_BROKER_PROTOCOL_VERSION": "0.8.2.2",
    "KAFKA_OVERRIDE_LEADER_IMBALANCE_CHECK_INTERVAL_SECONDS": "300",
    "KAFKA_OVERRIDE_LEADER_IMBALANCE_PER_BROKER_PERCENTAGE": "10",
    "KAFKA_OVERRIDE_LOG_CLEANER_BACKOFF_MS": "15000",
    "KAFKA_OVERRIDE_LOG_CLEANER_DEDUPE_BUFFER_SIZE": "134217728",
    "KAFKA_OVERRIDE_LOG_CLEANER_DELETE_RETENTION_MS": "86400000",
    "KAFKA_OVERRIDE_LOG_CLEANER_ENABLE": "true",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_BUFFER_LOAD_FACTOR": "0.9",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_BUFFER_SIZE": "524288",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_MAX_BYTES_PER_SECOND": "1.7976931348623157E308",
    "KAFKA_OVERRIDE_LOG_CLEANER_MIN_CLEANABLE_RATIO": "0.5",
    "KAFKA_OVERRIDE_LOG_CLEANER_THREADS": "1",
    "KAFKA_OVERRIDE_LOG_CLEANUP_POLICY": "delete",
    "KAFKA_OVERRIDE_LOG_FLUSH_INTERVAL_MESSAGES": "9223372036854775807",
    "KAFKA_OVERRIDE_LOG_FLUSH_OFFSET_CHECKPOINT_INTERVAL_MS": "60000",
    "KAFKA_OVERRIDE_LOG_FLUSH_SCHEDULER_INTERVAL_MS": "9223372036854775807",
    "KAFKA_OVERRIDE_LOG_INDEX_INTERVAL_BYTES": "4096",
    "KAFKA_OVERRIDE_LOG_INDEX_SIZE_MAX_BYTES": "10485760",
    "KAFKA_OVERRIDE_LOG_PREALLOCATE": "false",
    "KAFKA_OVERRIDE_LOG_RETENTION_BYTES": "-1",
    "KAFKA_OVERRIDE_LOG_RETENTION_CHECK_INTERVAL_MS": "300000",
    "KAFKA_OVERRIDE_LOG_RETENTION_HOURS": "168",
    "KAFKA_OVERRIDE_LOG_ROLL_HOURS": "168",
    "KAFKA_OVERRIDE_LOG_ROLL_JITTER_HOURS": "0",
    "KAFKA_OVERRIDE_LOG_SEGMENT_BYTES": "1073741824",
    "KAFKA_OVERRIDE_LOG_SEGMENT_DELETE_DELAY_MS": "60000",
    "KAFKA_OVERRIDE_MAX_CONNECTIONS_PER_IP": "2147483647",
    "KAFKA_OVERRIDE_MAX_CONNECTIONS_PER_IP_OVERRIDES": "",
    "KAFKA_OVERRIDE_MESSAGE_MAX_BYTES": "1000012",
    "KAFKA_OVERRIDE_METRICS_NUM_SAMPLES": "2",
    "KAFKA_OVERRIDE_METRICS_SAMPLE_WINDOW_MS": "30000",
    "KAFKA_OVERRIDE_MIN_INSYNC_REPLICAS": "1",
    "KAFKA_OVERRIDE_NUM_IO_THREADS": "8",
    "KAFKA_OVERRIDE_NUM_NETWORK_THREADS": "3",
    "KAFKA_OVERRIDE_NUM_PARTITIONS": "1",
    "KAFKA_OVERRIDE_NUM_RECOVERY_THREADS_PER_DATA_DIR": "1",
    "KAFKA_OVERRIDE_NUM_REPLICA_FETCHERS": "1",
    "KAFKA_OVERRIDE_OFFSETS_COMMIT_REQUIRED_ACKS": "-1",
    "KAFKA_OVERRIDE_OFFSETS_COMMIT_TIMEOUT_MS": "5000",
    "KAFKA_OVERRIDE_OFFSETS_LOAD_BUFFER_SIZE": "5242880",
    "KAFKA_OVERRIDE_OFFSETS_RETENTION_CHECK_INTERVAL_MS": "600000",
    "KAFKA_OVERRIDE_OFFSETS_RETENTION_MINUTES": "1440",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_COMPRESSION_CODEC": "0",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_NUM_PARTITIONS": "50",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_REPLICATION_FACTOR": "3",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_SEGMENT_BYTES": "104857600",
    "KAFKA_OVERRIDE_OFFSET_METADATA_MAX_BYTES": "4096",
    "KAFKA_OVERRIDE_PRODUCER_PURGATORY_PURGE_INTERVAL_REQUESTS": "1000",
    "KAFKA_OVERRIDE_QUEUED_MAX_REQUESTS": "500",
    "KAFKA_OVERRIDE_QUOTA_CONSUMER_DEFAULT": "9223372036854775807",
    "KAFKA_OVERRIDE_QUOTA_PRODUCER_DEFAULT": "9223372036854775807",
    "KAFKA_OVERRIDE_QUOTA_WINDOW_NUM": "11",
    "KAFKA_OVERRIDE_QUOTA_WINDOW_SIZE_SECONDS": "1",
    "KAFKA_OVERRIDE_REPLICA_FETCH_BACKOFF_MS": "1000",
    "KAFKA_OVERRIDE_REPLICA_FETCH_MAX_BYTES": "1048576",
    "KAFKA_OVERRIDE_REPLICA_FETCH_MIN_BYTES": "1",
    "KAFKA_OVERRIDE_REPLICA_FETCH_WAIT_MAX_MS": "500",
    "KAFKA_OVERRIDE_REPLICA_HIGH_WATERMARK_CHECKPOINT_INTERVAL_MS": "5000",
    "KAFKA_OVERRIDE_REPLICA_LAG_TIME_MAX_MS": "10000",
    "KAFKA_OVERRIDE_REPLICA_SOCKET_RECEIVE_BUFFER_BYTES": "65536",
    "KAFKA_OVERRIDE_REPLICA_SOCKET_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_REQUEST_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_RESERVED_BROKER_MAX_ID": "1000",
    "KAFKA_OVERRIDE_SOCKET_RECEIVE_BUFFER_BYTES": "102400",
    "KAFKA_OVERRIDE_SOCKET_REQUEST_MAX_BYTES": "104857600",
    "KAFKA_OVERRIDE_SOCKET_SEND_BUFFER_BYTES": "102400",
    "KAFKA_OVERRIDE_UNCLEAN_LEADER_ELECTION_ENABLE": "true",
    "KAFKA_OVERRIDE_ZOOKEEPER_SESSION_TIMEOUT_MS": "6000",
    "KAFKA_OVERRIDE_ZOOKEEPER_SYNC_TIME_MS": "2000",
    "KAFKA_URI": "https://s3-eu-west-1.amazonaws.com/downloads.mesosphere.com/kafka/0_8_2_2/kafka_2.10-0.8.2.2.tgz",
    "KAFKA_VER_NAME": "kafka_2.10-0.8.2.2",
    "LD_LIBRARY_PATH": "/opt/mesosphere/lib",
    "OVERRIDER_URI": "https://s3.amazonaws.com/downloads.mesosphere.io/kafka/assets/1.0.7-0.9.0.1/overrider.zip",
    "PHASE_STRATEGY": "INSTALL",
    "PLACEMENT_STRATEGY": "ANY",
    "USER": ""
  },
  "healthChecks": [
    {
      "gracePeriodSeconds": 120,
      "intervalSeconds": 30,
      "maxConsecutiveFailures": 0,
      "path": "/admin/healthcheck",
      "portIndex": 0,
      "protocol": "HTTP",
      "timeoutSeconds": 5
    }
  ],
  "id": "kafkatest",
  "instances": 1,
  "labels": {
    "DCOS_MIGRATION_API_PATH": "/v1/plan",
    "DCOS_MIGRATION_API_VERSION": "v1",
    "DCOS_PACKAGE_COMMAND": "eyJwaXAiOlsiaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL2Rvd25sb2Fkcy5tZXNvc3BoZXJlLmlvL2thZmthL2Fzc2V0cy8wLjIuNS0wLjkuMC4xL2Rjb3Mta2Fma2EtMC4yLjUuemlwIl19",
    "DCOS_PACKAGE_FRAMEWORK_NAME": "kafkatest",
    "DCOS_PACKAGE_IS_FRAMEWORK": "true",
    "DCOS_PACKAGE_METADATA": "eyJuYW1lIjoia2Fma2EiLCJwb3N0SW5zdGFsbE5vdGVzIjoiREMvT1MgS2Fma2EgU2VydmljZSBpcyBiZWluZyBpbnN0YWxsZWQuXG5cblx0RG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9kb2NzLm1lc29zcGhlcmUuY29tL2thZmthLTEtNy9cblx0SXNzdWVzOiBodHRwczovL2RvY3MubWVzb3NwaGVyZS5jb20vc3VwcG9ydC8iLCJkZXNjcmlwdGlvbiI6IkFwYWNoZSBLYWZrYSBydW5uaW5nIG9uIERDL09TIiwicGFja2FnaW5nVmVyc2lvbiI6IjIuMCIsInRhZ3MiOlsibWVzc2FnZSIsImJyb2tlciIsInB1YnN1YiJdLCJwb3N0VW5pbnN0YWxsTm90ZXMiOiJEQy9PUyBLYWZrYSBTZXJ2aWNlIGhhcyBiZWVuIHVuaW5zdGFsbGVkLlxuUGxlYXNlIGZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zIGF0IGh0dHBzOi8vZG9jcy5tZXNvc3BoZXJlLmNvbS9rYWZrYS0xLTcvI3VuaW5zdGFsbCB0byByZW1vdmUgYW55IHBlcnNpc3RlbnQgc3RhdGUgaWYgcmVxdWlyZWQuIiwibWFpbnRhaW5lciI6InN1cHBvcnRAbWVzb3NwaGVyZS5pbyIsInNlbGVjdGVkIjp0cnVlLCJmcmFtZXdvcmsiOnRydWUsInZlcnNpb24iOiIxLjAuNy0wLjguMi4yIiwiaW1hZ2VzIjp7Imljb24tc21hbGwiOiJodHRwczovL2QxdnVicjBldnNwbGEuY2xvdWRmcm9udC5uZXQvaW1nL2ljb24tc21hbGwucG5nIiwiaWNvbi1tZWRpdW0iOiJodHRwczovL2QxdnVicjBldnNwbGEuY2xvdWRmcm9udC5uZXQvaW1nL2ljb24tbWVkaXVtLnBuZyIsImljb24tbGFyZ2UiOiJodHRwczovL2QxdnVicjBldnNwbGEuY2xvdWRmcm9udC5uZXQvaW1nL2ljb24tbGFyZ2UucG5nIiwic2NyZWVuc2hvdHMiOm51bGx9fQ==",
    "DCOS_PACKAGE_NAME": "kafka",
    "DCOS_PACKAGE_REGISTRY_VERSION": "2.0",
    "DCOS_PACKAGE_RELEASE": "14",
    "DCOS_PACKAGE_SOURCE": "https://github.com/mesosphere/universe-1.7/archive/kafka-demo.zip",
    "DCOS_PACKAGE_VERSION": "1.0.7-0.8.2.2",
    "MARATHON_SINGLE_INSTANCE_APP": "true"
  },
  "mem": 1230,
  "portDefinitions": [
    {
      "labels": {},
      "name": "api",
      "port": 0,
      "protocol": "tcp"
    }
  ],
  "readinessChecks": [
    {
      "httpStatusCodesForReady": [
        200
      ],
      "interval": 10000,
      "name": "kafkaUpdateProgress",
      "path": "/v1/plan",
      "portName": "api",
      "preserveLastResponse": true,
      "protocol": "HTTP",
      "timeout": 10000
    }
  ],
  "upgradeStrategy": {
    "maximumOverCapacity": 0,
    "minimumHealthCapacity": 0
  },
  "uris": [
    "https://s3.amazonaws.com/downloads.mesosphere.io/kafka/assets/jre-8u72-linux-x64.tar.gz",
    "https://s3.amazonaws.com/downloads.mesosphere.io/kafka/assets/1.0.7-0.9.0.1/scheduler.zip",
    "https://s3-eu-west-1.amazonaws.com/downloads.mesosphere.com/kafka/0_8_2_2/kafka_2.10-0.8.2.2.tgz"
  ]
}
