# Contributing to the Kafka Framework

<!-- TOC START: generated by generate-md-toc.py, do not edit below this line -->

- [Getting started](#getting-started)
  - [Build](#build)
  - [Unit Test](#unit-test)
  - [Run in DCOS](#run-in-dcos)
    - [Deploy from local custom Universe](#deploy-from-local-custom-universe)
    - [Deploy from custom branch in Universe repo](#deploy-from-custom-branch-in-universe-repo)
- [Working with the [mesos-commons](https://github.com/mesosphere/mesos-commons) submodule](#working-with-the-mesos-commonshttpsgithubcommesospheremesos-commons-submodule)

<!-- TOC END: generated by generate-md-toc.py, do not edit above this line -->

## Getting started

### Build

``` bash
git clone https://github.com/mesosphere/dcos-kafka-service
cd dcos-kafka-service
./gradlew clean check build
```

#### Build CLI

Prerequisites:
- Go 1.5+ with `GOPATH` defined

``` bash
cd cli/
./build-cli.sh
./dcos-kafka/dcos-kafka-linux kafka -h
```

### Unit Test

``` bash
./gradlew test
```

### Run in DCOS

Prerequisites:
- Have a DCOS cluster somewhere
- Install [dcos-cli](https://docs.mesosphere.com/administration/introcli/cli/)

#### Deploy from a custom Universe

Get the link to the Universe zip (e.g. from the "upload" step of your PR's build). With that in hand:

``` bash
dcos package repo add --index=0 repo-name https://uri.to.build/universe-name.zip
dcos package install kafka
```

If you're testing a config change that you want to be in effect at framework launch:

``` bash
dcos package install kafka options=/path/to/options.json
```
